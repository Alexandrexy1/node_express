<%- include('../layouts/header', { title: 'Checklists' }) %>

<section class="text-black w-full py-10 px-20 h-screen">
    <div class="flex justify-between items-center mb-4">
        <h1 class="text-2xl font-bold">Task List</h1>
        <a  
            href="/checklists/new"
            class="p-2 bg-green-600 text-white rounded-md hover:bg-green-700">
            New list
        </a>
    </div>

    <div class="flex gap-12 flex-wrap pb-6">
    <% checklists.forEach(checklist => { %>
        <div class="bg-slate-200 pt-6 w-80 h-40 flex flex-col gap-4">
            <h3 class="text-lg font-semibold px-6"><%= checklist.name %></h3>
            <p class="px-6 font-medium"><%= checklist.tasks.length %> tasks</p>
            <div class="flex justify-center items-end h-full">
                <a 
                    href="/checklists/<%= checklist._id %>"
                    class="w-1/3 h-full font-semibold border-t border-r text-blue-600 border-t-slate-400 border-r-slate-400 flex justify-center items-center hover:bg-slate-300">
                    Show
                </a>
                <a 
                    href="/checklists/edit/<%= checklist._id %>"
                    class="w-1/3 h-full font-semibold border-t border-r text-blue-600 border-t-slate-400 border-r-slate-400 flex justify-center items-center hover:bg-slate-300">
                    Edit
                </a>
                <a 
                    href="/checklists/<%= checklist._id %>?_method=delete"
                    class="w-1/3 h-full font-semibold border-t text-red-600 border-t-slate-400 flex justify-center items-center hover:bg-slate-300">
                    Delete
                </a>
            </div>
        </div>
    <% }) %>
    </div>
</section>

<%- include('../layouts/footer') %>